@page "/valkyries"
@using honkai_wiki_api.Models
@using System.Net.Http
@using System.Net.Http.Json
@using System.Threading.Tasks
@inject HttpClient Http

<style>
    #valkyries {
        display: grid;
        grid-template-columns: 100px repeat(auto-fill, 100px) 110px;
        grid-gap: 30px;
    }
</style>

<h1 class="mt-3">Valkyries</h1>

<div id="valkyries">
    @foreach(Valkyrie valkyrie in valkyries)
    {
        <InfoCard Name="@valkyrie.Name" Image="@valkyrie.Image"></InfoCard>
    }
</div>

@code {
    private Valkyrie[]? valkyries;

    protected override async Task OnInitializedAsync() =>
        valkyries = await Http.GetFromJsonAsync<Valkyrie[]>("https://localhost:7061/valkyries");
}
